
{% extends '::layout.html.twig' %}

{% block body -%}


    <form name="myForm" method="get" action="">
        <table cellspacing="0" cellpadding="0" border="0">

            {# <tr>
                 <td align="right"></td>
                 <td><input type="button" value="Get latest messages/likes/comment for all groups" onclick ="getLatestMessagesAndLikesByGroupe({{groupes_id_json}}, {{new_message_id}})" /></td>
             </tr>#}
        </table>
    </form>
    <div class="panel-body">
        <div class="table-responsive">
            <table id="dataTables" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Id</th>
                        <th>Privacy</th>
                            {#                        <th>Users</th>#}
                        <th>Nb likes</th>
                        <th>Nb Publi</th>
                        <th>Nb Post</th>
                        <th>Nb Com</th>
                        <th>Nb Members</th>
                        <th>Date Creation</th>
                        <th>Date Last Publi</th>
                        <th>Get Latest messages for this group</th>
                            {#                        <th>Get summary for this group</th>#}
                            {#                        <th>Get likes for this group</th>#}
                    </tr>
                </thead>
                <tbody>
                    {% for groupe in groupes %}
                        <tr class="{{ cycle(['odd', 'even'], loop.index0) }} gradeX">
                            <td><a class="pure-button" href="{{ path('summary_groupe', { 'groupe_id': groupe.idGroupe }) }}">{{ groupe.name }}</a></td>
                            <td>{{groupe.idGroupe }} 
                            <td>{{ groupe.privacy }}</td>
                            {# <td>{% for Users in groupe.Users.toArray %}                   
                                 {{Users.name}}
                             {% endfor %}
                         </td>#}
                            <td>{{groupe.nbLikes}}</td>
                            <td>{{groupe.nbPost + groupe.nbCom}}</td>
                            <td>{{groupe.nbPost}}</td>
                            <td>{{groupe.nbCom}}</td>
                            <td>{{groupe.nbMembers}}</td>
                            <td>{{groupe.dateCreation}}</td>
                            <td><span class="hide">{{groupe.dateLastPubli|date('Y-m-d H:i:s')}} - </span>{{ groupe.dateLastPubli|date('d/m/y ') }}</td>
                            <td> <input type="button" onclick ="getUsersByGroupRatp({{groupe.idGroupe }});" /></td>

                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>





{#                {{dump(test)}}#}
        <div>

            <a class="btn  btn-sm btn-primary btn-block" href="{{ path('display_users') }}">Display Users</a>



            <a class="btn  btn-sm btn-primary btn-block" href="{{ path('display_messages') }}">Display Messages </a>



            <a class="btn  btn-sm btn-success btn-block" href="{{ path('export_excel_group') }}">export to excel</a>
        </div>
    </div>
{% endblock %}

